%h2
  User id
  = @user.id
.table-responsive
  %table.table.table-striped.table-sm
    %tr
      %td
        %b= t('dashboard.users.table.email')
      %td= @user.email
    %tr
      %td
        %b= t('dashboard.users.table.full_name')
      %td= @user.full_name
    %tr
      %td
        %b= t('dashboard.users.table.github_user')
      %td= @user.github
    %tr
      %td
        %b= t('dashboard.users.table.roles')
      %td
        %ul
          - @user.roles_name.each do |role|
            %li
              = role
              = link_to 'delete', remove_role_dashboard_user_path(@user, role: role),
                                  method: :put,
                                  data: { confirm: "Are you sure to delete role #{role}" }

          - Role::ROLES.each do |role|
            - unless @user.roles_name.include?(role)
              %li
                = link_to "add role #{role}", add_role_dashboard_user_path(@user, role: role),
                                              method: :put,
                                              data: { confirm: "Are you sure to add role #{role}" }
    %tr
      %td
        %b= t('dashboard.users.table.task_assignments')
      %td
        %ul
          - @test_task_assignments.each do |test_task_assignment|
            %li= test_task_assignment.test_task.title
%h2 Onboarding progress
.table-responsive
  %table.table.table-striped.table-sm
    %tr
      %th= t('dashboard.users.table.tasks')
      %th= t('dashboard.users.table.status')
    - @test_task_assignments.each do |test_task_assignment|
      %tr
        %td= test_task_assignment.test_task.title
        %td
          - if test_task_assignment.completed?
            .btn.btn-success.btn-sm.disabled
              = t('dashboard.developer_test_task.finished')
          - else
            .btn.btn-danger.btn-sm.disabled
              = t('dashboard.developer_test_task.not_finished')
    = cell(Developer::Dashboard::OnboardingStepStatus, @user, resource: :slack).()
    = cell(Developer::Dashboard::OnboardingStepStatus, @user, resource: :github).()
